<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Telegram Dating Mini App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      html,
      body,
      #root {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      }
    </style>
  </head>
  <body class="min-h-screen">
    <div id="root"></div>

    <script type="module">
      // Import React from CDN (matching component version)
      import React, { useState, useEffect } from 'https://esm.sh/react@18.2.0';
      import { createRoot } from 'https://esm.sh/react-dom@18.2.0/client';

      // Hatch client initialization with localStorage-based storage
      const initHatchClient = async (useEffect, useState) => {
          // Try to load stored state from JSON file, fallback to inline data
          let initialStorage = {};
          try {
              const response = await fetch('./storedState.json');
              initialStorage = await response.json();
          } catch (error) {
              console.warn('Could not load storedState.json, using inline data:', error);
              // Fallback to inline stored state data for file:// URLs
              initialStorage = {};
          }

          // Initialize localStorage with stored state
          const STORAGE_PREFIX = 'hatch_component_';
          Object.entries(initialStorage).forEach(([key, value]) => {
              const storageKey = STORAGE_PREFIX + key;
              if (!localStorage.getItem(storageKey)) {
                  localStorage.setItem(storageKey, JSON.stringify(value));
              }
          });

          // Implement useStoredState hook compatible with Hatch
          const useStoredState = (key, defaultValue) => {
              const storageKey = STORAGE_PREFIX + key;

              // Get initial value from localStorage or use default
              const getStoredValue = () => {
                  try {
                      const item = localStorage.getItem(storageKey);
                      return item ? JSON.parse(item) : defaultValue;
                  } catch (error) {
                      console.warn('Error reading from localStorage:', error);
                      return defaultValue;
                  }
              };

              const [value, setValue] = useState(getStoredValue);

              // Update localStorage when value changes
              const setStoredValue = (newValue) => {
                  try {
                      const valueToStore = typeof newValue === 'function' ? newValue(value) : newValue;
                      localStorage.setItem(storageKey, JSON.stringify(valueToStore));
                      setValue(valueToStore);
                  } catch (error) {
                      console.error('Error writing to localStorage:', error);
                  }
              };

              // Listen for storage changes from other tabs/windows
              useEffect(() => {
                  const handleStorageChange = (e) => {
                      if (e.key === storageKey && e.newValue) {
                          try {
                              setValue(JSON.parse(e.newValue));
                          } catch (error) {
                              console.warn('Error parsing storage change:', error);
                          }
                      }
                  };

                  window.addEventListener('storage', handleStorageChange);
                  return () => window.removeEventListener('storage', handleStorageChange);
              }, [storageKey]);

              return [value, setStoredValue];
          };

          // Set up global Hatch client interface
          window.hatch = {
              useStoredState,
              // Mock implementations for other Hatch features
              useUser: () => ({ id: 'local', name: 'Local User', color: '#4F46E5' }),
              useCollaborators: () => [],
              useAssets: () => [],
              getAllItems: async () => {
                  const items = {};
                  for (let i = 0; i < localStorage.length; i++) {
                      const key = localStorage.key(i);
                      if (key && key.startsWith(STORAGE_PREFIX)) {
                          const itemKey = key.replace(STORAGE_PREFIX, '');
                          try {
                              items[itemKey] = JSON.parse(localStorage.getItem(key));
                          } catch (error) {
                              console.warn('Error parsing stored item:', key, error);
                          }
                      }
                  }
                  return items;
              },
              getItem: async (key) => {
                  try {
                      const item = localStorage.getItem(STORAGE_PREFIX + key);
                      return item ? JSON.parse(item) : undefined;
                  } catch (error) {
                      console.warn('Error getting item:', key, error);
                      return undefined;
                  }
              },
              setItem: async (key, value) => {
                  try {
                      localStorage.setItem(STORAGE_PREFIX + key, JSON.stringify(value));
                  } catch (error) {
                      console.error('Error setting item:', key, error);
                  }
              }
          };

          // Backward compatibility and global availability
          window.useStoredState = useStoredState;
          window.React = React;
          window.useState = useState;
          window.useEffect = useEffect;
      };

      // Initialize Hatch client
      await initHatchClient(useEffect, useState);

      try {
          // Try to load component from external file, fallback to inline code
          let componentCode;
          try {
              const response = await fetch('./component.js');
              componentCode = await response.text();
          } catch (fetchError) {
              console.warn('Could not load component.js, using inline code:', fetchError);
              // Fallback to inline component code for file:// URLs
              componentCode = `// <stdin>
import React, { useState, useEffect } from "https://esm.sh/react@18.2.0";
var mockUsers = [
  {
    id: 1,
    name: "\\u0410\\u043D\\u043D\\u0430",
    age: 25,
    bio: "\\u041B\\u044E\\u0431\\u043B\\u044E \\u043F\\u0443\\u0442\\u0435\\u0448\\u0435\\u0441\\u0442\\u0432\\u0438\\u044F \\u0438 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E \\u{1F4F8}",
    photos: ["assets/anna1.jpeg?prompt=Beautiful%20young%20woman%20smiling%2C%20portrait%20photo"],
    distance: "2 \\u043A\\u043C"
  },
  {
    id: 2,
    name: "\\u041C\\u0430\\u0440\\u0438\\u044F",
    age: 23,
    bio: "\\u0425\\u0443\\u0434\\u043E\\u0436\\u043D\\u0438\\u0446\\u0430 \\u0438 \\u043B\\u044E\\u0431\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u0438\\u0446\\u0430 \\u043A\\u043E\\u0444\\u0435 \\u2615",
    photos: ["assets/maria1.jpeg?prompt=Artistic%20young%20woman%20with%20creative%20style%2C%20portrait"],
    distance: "5 \\u043A\\u043C"
  },
  {
    id: 3,
    name: "\\u0415\\u043B\\u0435\\u043D\\u0430",
    age: 27,
    bio: "\\u0419\\u043E\\u0433\\u0430, \\u0437\\u0434\\u043E\\u0440\\u043E\\u0432\\u044B\\u0439 \\u043E\\u0431\\u0440\\u0430\\u0437 \\u0436\\u0438\\u0437\\u043D\\u0438 \\u{1F9D8}\\u200D\\u2640\\uFE0F",
    photos: ["assets/elena1.jpeg?prompt=Sporty%20young%20woman%20practicing%20yoga%2C%20healthy%20lifestyle"],
    distance: "1 \\u043A\\u043C"
  }
];
var DatingApp = () => {
  const [currentUser, setCurrentUser] = useState(null);
  const [currentScreen, setCurrentScreen] = useState("loading");
  const [currentCardIndex, setCurrentCardIndex] = useState(0);
  const [matches, setMatches] = useState([]);
  const [isInitialized, setIsInitialized] = useState(false);
  const [debugInfo, setDebugInfo] = useState([]);
  const [showDebug, setShowDebug] = useState(false);
  const addDebugInfo = (message, data = null) => {
    const timestamp = (/* @__PURE__ */ new Date()).toLocaleTimeString();
    const debugEntry = {
      time: timestamp,
      message,
      data: data ? JSON.stringify(data, null, 2) : null
    };
    setDebugInfo((prev) => [...prev, debugEntry]);
    console.log(\`[\${timestamp}] \${message}\`, data);
  };
  useEffect(() => {
    const initTelegram = async () => {
      addDebugInfo("=== TELEGRAM DEBUG START ===");
      addDebugInfo("window.Telegram exists", !!window.Telegram);
      addDebugInfo("User Agent", navigator.userAgent);
      addDebugInfo("Location", window.location.href);
      addDebugInfo("Document ready state", document.readyState);
      const waitForTelegram = (maxAttempts = 50) => {
        return new Promise((resolve, reject) => {
          let attempts = 0;
          const checkTelegram = () => {
            attempts++;
            addDebugInfo(\`\\u041F\\u043E\\u043F\\u044B\\u0442\\u043A\\u0430 \${attempts}/\${maxAttempts} \\u043D\\u0430\\u0439\\u0442\\u0438 Telegram WebApp\`);
            if (window.Telegram && window.Telegram.WebApp) {
              addDebugInfo("\\u2705 Telegram WebApp \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D!");
              resolve(window.Telegram.WebApp);
            } else if (attempts >= maxAttempts) {
              addDebugInfo("\\u274C Telegram WebApp \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D \\u043F\\u043E\\u0441\\u043B\\u0435 \\u043C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u043E\\u0433\\u043E \\u043A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u0430 \\u043F\\u043E\\u043F\\u044B\\u0442\\u043E\\u043A");
              reject(new Error("Telegram WebApp \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D"));
            } else {
              setTimeout(checkTelegram, 200);
            }
          };
          checkTelegram();
        });
      };
      try {
        addDebugInfo("\\u0418\\u043D\\u0438\\u0446\\u0438\\u0430\\u043B\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F Telegram WebApp...");
        const tg = await waitForTelegram();
        addDebugInfo("Telegram WebApp \\u043E\\u0431\\u044A\\u0435\\u043A\\u0442 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D", typeof tg);
        tg.ready();
        addDebugInfo("WebApp ready() \\u0432\\u044B\\u0437\\u0432\\u0430\\u043D");
        tg.expand();
        addDebugInfo("WebApp expand() \\u0432\\u044B\\u0437\\u0432\\u0430\\u043D");
        addDebugInfo("=== TELEGRAM DATA ===");
        addDebugInfo("initData (raw)", tg.initData);
        addDebugInfo("initData length", tg.initData?.length);
        addDebugInfo("initDataUnsafe", tg.initDataUnsafe);
        addDebugInfo("user", tg.initDataUnsafe?.user);
        addDebugInfo("platform", tg.platform);
        addDebugInfo("version", tg.version);
        addDebugInfo("colorScheme", tg.colorScheme);
        addDebugInfo("themeParams", tg.themeParams);
        addDebugInfo("isExpanded", tg.isExpanded);
        addDebugInfo("viewportHeight", tg.viewportHeight);
        addDebugInfo("viewportStableHeight", tg.viewportStableHeight);
        if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
          const user = tg.initDataUnsafe.user;
          addDebugInfo("\\u2705 \\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D \\u0432 initDataUnsafe", user);
          setCurrentUser({
            id: user.id,
            firstName: user.first_name,
            lastName: user.last_name,
            username: user.username,
            photoUrl: user.photo_url
          });
        } else if (tg.initData && tg.initData.length > 0) {
          addDebugInfo("\\u26A0\\uFE0F \\u041F\\u043E\\u043F\\u044B\\u0442\\u043A\\u0430 \\u043F\\u0430\\u0440\\u0441\\u0438\\u043D\\u0433\\u0430 initData \\u0432\\u0440\\u0443\\u0447\\u043D\\u0443\\u044E...");
          addDebugInfo("Raw initData", tg.initData);
          try {
            const urlParams = new URLSearchParams(tg.initData);
            const parsedParams = Object.fromEntries(urlParams);
            addDebugInfo("Parsed URL params", parsedParams);
            const userStr = urlParams.get("user");
            addDebugInfo("User string from params", userStr);
            if (userStr) {
              const user = JSON.parse(decodeURIComponent(userStr));
              addDebugInfo("\\u2705 \\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \\u0438\\u0437 initData", user);
              setCurrentUser({
                id: user.id,
                firstName: user.first_name,
                lastName: user.last_name,
                username: user.username,
                photoUrl: user.photo_url
              });
            } else {
              throw new Error("\\u041D\\u0435\\u0442 \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u0430 user \\u0432 initData");
            }
          } catch (parseError) {
            addDebugInfo("\\u274C \\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0430\\u0440\\u0441\\u0438\\u043D\\u0433\\u0430 initData", parseError.message);
            throw parseError;
          }
        } else {
          addDebugInfo("\\u26A0\\uFE0F \\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F \\u0432 Telegram WebApp");
          addDebugInfo("initDataUnsafe \\u0441\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442", !!tg.initDataUnsafe);
          addDebugInfo("initData \\u0441\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442", !!tg.initData);
          addDebugInfo("initData \\u043D\\u0435 \\u043F\\u0443\\u0441\\u0442\\u0430\\u044F", tg.initData && tg.initData.length > 0);
          throw new Error("\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F");
        }
        if (tg.BackButton) {
          tg.BackButton.onClick(() => {
            addDebugInfo("Back button clicked");
            if (currentScreen === "matches" || currentScreen === "profile") {
              setCurrentScreen("swipe");
            }
          });
          addDebugInfo("\\u2705 Back button \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0435\\u043D\\u0430");
        }
        addDebugInfo("\\u2705 Telegram WebApp \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0438\\u043D\\u0438\\u0446\\u0438\\u0430\\u043B\\u0438\\u0437\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D");
      } catch (error) {
        addDebugInfo("\\u274C \\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0438\\u043D\\u0438\\u0446\\u0438\\u0430\\u043B\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438 Telegram WebApp", error.message);
        addDebugInfo("\\u041F\\u0435\\u0440\\u0435\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u0442\\u0435\\u0441\\u0442\\u043E\\u0432\\u044B\\u0439 \\u0440\\u0435\\u0436\\u0438\\u043C");
        setCurrentUser({
          id: 12345,
          firstName: "\\u{1F527} DEBUG MODE",
          lastName: \`Error: \${error.message}\`,
          username: "debug_user"
        });
        setTimeout(() => {
          setShowDebug(true);
        }, 1e3);
      }
      addDebugInfo("=== TELEGRAM DEBUG END ===");
      setCurrentScreen("swipe");
      setIsInitialized(true);
    };
    const delayedInit = () => {
      setTimeout(() => {
        addDebugInfo("\\u0417\\u0430\\u043F\\u0443\\u0441\\u043A \\u0438\\u043D\\u0438\\u0446\\u0438\\u0430\\u043B\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438 \\u0441 \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u043E\\u0439...");
        initTelegram();
      }, 500);
    };
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", delayedInit);
    } else {
      delayedInit();
    }
    return () => {
      document.removeEventListener("DOMContentLoaded", delayedInit);
    };
  }, []);
  useEffect(() => {
    if (window.Telegram && window.Telegram.WebApp) {
      const tg = window.Telegram.WebApp;
      if (currentScreen === "matches" || currentScreen === "profile") {
        tg.BackButton.show();
      } else {
        tg.BackButton.hide();
      }
    }
  }, [currentScreen]);
  const handleSwipe = (direction) => {
    try {
      if (window.Telegram && window.Telegram.WebApp) {
        window.Telegram.WebApp.HapticFeedback.impactOccurred("light");
      }
    } catch (e) {
      console.log("Haptic feedback not available");
    }
    if (direction === "right") {
      if (Math.random() > 0.5) {
        setMatches((prev) => [...prev, mockUsers[currentCardIndex]]);
        try {
          if (window.Telegram && window.Telegram.WebApp) {
            window.Telegram.WebApp.HapticFeedback.notificationOccurred("success");
          }
        } catch (e) {
          console.log("Haptic feedback not available");
        }
      }
    }
    if (currentCardIndex < mockUsers.length - 1) {
      setCurrentCardIndex(currentCardIndex + 1);
    } else {
      setCurrentScreen("matches");
    }
  };
  const DebugPanel = () => {
    if (!showDebug) return null;
    return /* @__PURE__ */ React.createElement("div", { className: "fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4" }, /* @__PURE__ */ React.createElement("div", { className: "bg-white rounded-lg max-w-4xl w-full max-h-96 overflow-hidden flex flex-col" }, /* @__PURE__ */ React.createElement("div", { className: "p-4 border-b flex justify-between items-center" }, /* @__PURE__ */ React.createElement("h3", { className: "text-lg font-bold" }, "\\u{1F527} \\u041E\\u0442\\u043B\\u0430\\u0434\\u043E\\u0447\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F"), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowDebug(false),
        className: "text-gray-500 hover:text-gray-700 text-xl"
      },
      "\\u2715"
    )), /* @__PURE__ */ React.createElement("div", { className: "flex-1 overflow-auto p-4" }, /* @__PURE__ */ React.createElement("div", { className: "space-y-2 text-xs font-mono" }, debugInfo.map((entry, index) => /* @__PURE__ */ React.createElement("div", { key: index, className: "border-b pb-2" }, /* @__PURE__ */ React.createElement("div", { className: "flex justify-between items-start mb-1" }, /* @__PURE__ */ React.createElement("span", { className: "text-blue-600 font-semibold" }, entry.time), /* @__PURE__ */ React.createElement("span", { className: "text-green-600" }, entry.message)), entry.data && /* @__PURE__ */ React.createElement("pre", { className: "bg-gray-100 p-2 rounded text-xs overflow-auto max-h-32" }, entry.data))))), /* @__PURE__ */ React.createElement("div", { className: "p-4 border-t flex space-x-2" }, /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => {
          setDebugInfo([]);
        },
        className: "px-3 py-1 bg-red-500 text-white rounded text-sm"
      },
      "\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C"
    ), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => {
          const debugText = debugInfo.map(
            (entry) => \`[\${entry.time}] \${entry.message}\${entry.data ? "\\n" + entry.data : ""}\`
          ).join("\\n\\n");
          navigator.clipboard?.writeText(debugText);
        },
        className: "px-3 py-1 bg-blue-500 text-white rounded text-sm"
      },
      "\\u041A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C"
    ))));
  };
  if (currentScreen === "loading") {
    return /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-center h-screen bg-gradient-to-br from-pink-400 to-purple-600 relative" }, /* @__PURE__ */ React.createElement("div", { className: "text-center text-white" }, /* @__PURE__ */ React.createElement("div", { className: "animate-spin rounded-full h-16 w-16 border-4 border-white border-t-transparent mx-auto mb-4" }), /* @__PURE__ */ React.createElement("p", { className: "text-xl" }, "\\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u0435\\u043C \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435...")), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowDebug(true),
        className: "absolute top-4 right-4 w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors",
        title: "\\u041E\\u0442\\u043B\\u0430\\u0434\\u043A\\u0430"
      },
      "\\u{1F527}"
    ), /* @__PURE__ */ React.createElement(DebugPanel, null));
  }
  if (currentScreen === "swipe") {
    const currentCard = mockUsers[currentCardIndex];
    if (!currentCard) {
      return /* @__PURE__ */ React.createElement("div", { className: "flex items-center justify-center h-screen bg-gray-100 relative" }, /* @__PURE__ */ React.createElement("div", { className: "text-center" }, /* @__PURE__ */ React.createElement("p", { className: "text-xl mb-4" }, "\\u041F\\u043E\\u043A\\u0430 \\u0447\\u0442\\u043E \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435 \\u043D\\u0438\\u043A\\u043E\\u0433\\u043E \\u043D\\u0435\\u0442 \\u{1F614}"), /* @__PURE__ */ React.createElement(
        "button",
        {
          onClick: () => setCurrentScreen("matches"),
          className: "bg-pink-500 text-white px-6 py-3 rounded-full hover:bg-pink-600 transition-colors"
        },
        "\\u041F\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C \\u0441\\u043E\\u0432\\u043F\\u0430\\u0434\\u0435\\u043D\\u0438\\u044F"
      )), /* @__PURE__ */ React.createElement(
        "button",
        {
          onClick: () => setShowDebug(true),
          className: "absolute top-4 right-4 w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center hover:bg-yellow-200 transition-colors",
          title: "\\u041E\\u0442\\u043B\\u0430\\u0434\\u043A\\u0430"
        },
        "\\u{1F527}"
      ), /* @__PURE__ */ React.createElement(DebugPanel, null));
    }
    return /* @__PURE__ */ React.createElement("div", { className: "h-screen bg-gray-100 flex flex-col" }, /* @__PURE__ */ React.createElement("div", { className: "flex justify-between items-center p-4 bg-white shadow-sm" }, /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setCurrentScreen("profile"),
        className: "w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors"
      },
      "\\u{1F464}"
    ), /* @__PURE__ */ React.createElement("h1", { className: "text-xl font-bold text-pink-500" }, "Dating"), /* @__PURE__ */ React.createElement("div", { className: "flex space-x-2" }, /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowDebug(true),
        className: "w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center hover:bg-yellow-200 transition-colors",
        title: "\\u041E\\u0442\\u043B\\u0430\\u0434\\u043A\\u0430"
      },
      "\\u{1F527}"
    ), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setCurrentScreen("matches"),
        className: "w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center relative hover:bg-pink-200 transition-colors"
      },
      "\\u{1F4AC}",
      matches.length > 0 && /* @__PURE__ */ React.createElement("span", { className: "absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center" }, matches.length)
    ))), /* @__PURE__ */ React.createElement("div", { className: "flex-1 flex items-center justify-center p-4" }, /* @__PURE__ */ React.createElement("div", { className: "w-full max-w-sm bg-white rounded-2xl shadow-lg overflow-hidden" }, /* @__PURE__ */ React.createElement("div", { className: "relative h-96" }, /* @__PURE__ */ React.createElement(
      "img",
      {
        src: currentCard.photos[0],
        alt: currentCard.name,
        className: "w-full h-full object-cover"
      }
    ), /* @__PURE__ */ React.createElement("div", { className: "absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4" }, /* @__PURE__ */ React.createElement("h2", { className: "text-white text-2xl font-bold" }, currentCard.name, ", ", currentCard.age), /* @__PURE__ */ React.createElement("p", { className: "text-white/80 text-sm" }, currentCard.distance))), /* @__PURE__ */ React.createElement("div", { className: "p-4" }, /* @__PURE__ */ React.createElement("p", { className: "text-gray-600" }, currentCard.bio)))), /* @__PURE__ */ React.createElement("div", { className: "flex justify-center space-x-8 p-6 bg-white" }, /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => handleSwipe("left"),
        className: "w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center text-2xl hover:bg-gray-300 transition-colors active:scale-95"
      },
      "\\u274C"
    ), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => handleSwipe("right"),
        className: "w-16 h-16 bg-pink-500 rounded-full flex items-center justify-center text-2xl hover:bg-pink-600 transition-colors active:scale-95"
      },
      "\\u2764\\uFE0F"
    )));
  }
  if (currentScreen === "matches") {
    return /* @__PURE__ */ React.createElement("div", { className: "h-screen bg-gray-100" }, /* @__PURE__ */ React.createElement("div", { className: "bg-white p-4 shadow-sm flex justify-between items-center" }, /* @__PURE__ */ React.createElement("div", { className: "w-10" }), /* @__PURE__ */ React.createElement("h1", { className: "text-xl font-bold text-center" }, "\\u0421\\u043E\\u0432\\u043F\\u0430\\u0434\\u0435\\u043D\\u0438\\u044F"), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowDebug(true),
        className: "w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center hover:bg-yellow-200 transition-colors",
        title: "\\u041E\\u0442\\u043B\\u0430\\u0434\\u043A\\u0430"
      },
      "\\u{1F527}"
    )), /* @__PURE__ */ React.createElement("div", { className: "p-4" }, matches.length === 0 ? /* @__PURE__ */ React.createElement("div", { className: "text-center mt-20" }, /* @__PURE__ */ React.createElement("p", { className: "text-gray-500 text-lg" }, "\\u041F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u0441\\u043E\\u0432\\u043F\\u0430\\u0434\\u0435\\u043D\\u0438\\u0439"), /* @__PURE__ */ React.createElement("p", { className: "text-gray-400 mt-2" }, "\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0430\\u0439\\u0442\\u0435 \\u0437\\u043D\\u0430\\u043A\\u043E\\u043C\\u0438\\u0442\\u044C\\u0441\\u044F!"), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setCurrentScreen("swipe"),
        className: "mt-4 bg-pink-500 text-white px-6 py-3 rounded-full hover:bg-pink-600 transition-colors"
      },
      "\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043A \\u043F\\u043E\\u0438\\u0441\\u043A\\u0443"
    )) : /* @__PURE__ */ React.createElement("div", { className: "space-y-4" }, matches.map((match) => /* @__PURE__ */ React.createElement("div", { key: match.id, className: "bg-white rounded-lg p-4 shadow-sm flex items-center space-x-4" }, /* @__PURE__ */ React.createElement(
      "img",
      {
        src: match.photos[0],
        alt: match.name,
        className: "w-16 h-16 rounded-full object-cover"
      }
    ), /* @__PURE__ */ React.createElement("div", { className: "flex-1" }, /* @__PURE__ */ React.createElement("h3", { className: "font-semibold" }, match.name, ", ", match.age), /* @__PURE__ */ React.createElement("p", { className: "text-gray-500 text-sm" }, match.bio)), /* @__PURE__ */ React.createElement("button", { className: "bg-pink-500 text-white px-4 py-2 rounded-full text-sm hover:bg-pink-600 transition-colors" }, "\\u041D\\u0430\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C"))))));
  }
  if (currentScreen === "profile") {
    return /* @__PURE__ */ React.createElement("div", { className: "h-screen bg-gray-100" }, /* @__PURE__ */ React.createElement("div", { className: "bg-white p-4 shadow-sm flex justify-between items-center" }, /* @__PURE__ */ React.createElement("div", { className: "w-10" }), /* @__PURE__ */ React.createElement("h1", { className: "text-xl font-bold text-center" }, "\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C"), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: () => setShowDebug(true),
        className: "w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center hover:bg-yellow-200 transition-colors",
        title: "\\u041E\\u0442\\u043B\\u0430\\u0434\\u043A\\u0430"
      },
      "\\u{1F527}"
    )), /* @__PURE__ */ React.createElement("div", { className: "p-4" }, /* @__PURE__ */ React.createElement("div", { className: "bg-white rounded-lg p-6 shadow-sm text-center" }, /* @__PURE__ */ React.createElement("div", { className: "w-24 h-24 bg-pink-200 rounded-full mx-auto mb-4 flex items-center justify-center text-3xl" }, "\\u{1F464}"), /* @__PURE__ */ React.createElement("h2", { className: "text-xl font-bold mb-2" }, currentUser?.firstName, " ", currentUser?.lastName), currentUser?.username && /* @__PURE__ */ React.createElement("p", { className: "text-gray-500 mb-4" }, "@", currentUser.username), /* @__PURE__ */ React.createElement("div", { className: "space-y-3 mt-6" }, /* @__PURE__ */ React.createElement("button", { className: "w-full bg-pink-500 text-white py-3 rounded-lg hover:bg-pink-600 transition-colors" }, "\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C"), /* @__PURE__ */ React.createElement("button", { className: "w-full bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-colors" }, "\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438"), /* @__PURE__ */ React.createElement("button", { className: "w-full bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-colors" }, "\\u041F\\u043E\\u043C\\u043E\\u0449\\u044C")))), /* @__PURE__ */ React.createElement(DebugPanel, null));
  }
  return /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement("div", null, "\\u042D\\u043A\\u0440\\u0430\\u043D \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D: ", currentScreen), /* @__PURE__ */ React.createElement(DebugPanel, null));
};
var stdin_default = DatingApp;
export {
  stdin_default as default
};
`;
          }

          // Create a blob URL from the executable code
          const blob = new Blob([componentCode], { type: 'text/javascript' });
          const blobUrl = URL.createObjectURL(blob);

          // Import the default export from the blob URL
          const moduleImport = await import(blobUrl);
          const Component = moduleImport.default;

          // Clean up the blob URL
          URL.revokeObjectURL(blobUrl);

          if (Component) {
              const rootElement = document.getElementById('root');
              const root = createRoot(rootElement);

              // Simple error boundary
              const ErrorBoundary = ({ children }) => {
                  try {
                      return children;
                  } catch (error) {
                      console.error('Component render error:', error);
                      return React.createElement('div', {
                          style: { padding: '20px', color: '#d32f2f', background: '#ffebee', borderRadius: '4px' }
                      }, [
                          React.createElement('h3', { key: 'title' }, 'Component Error'),
                          React.createElement('p', { key: 'error' }, 'Error: ' + error.message)
                      ]);
                  }
              };

              root.render(React.createElement(ErrorBoundary, {}, React.createElement(Component)));
          } else {
              console.error('No component found in module export');
              document.getElementById('root').innerHTML = '<div style="padding: 20px; color: #666;">No React component found - check console for details</div>';
          }
      } catch (error) {
          console.error('Error loading component:', error);
          document.getElementById('root').innerHTML = `
              <div style="padding: 20px; color: #d32f2f; background: #ffebee; border-radius: 4px;">
                  <h3>Error loading component</h3>
                  <p><strong>Error:</strong> ${error.message}</p>
                  <p>Please check the browser console for more details.</p>
              </div>
          `;
      }
    </script>
  </body>
</html>
